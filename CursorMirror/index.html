<!doctype html>
<html>
<head>
<script src="/socket.io/socket.io.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>

<script>
  "use strict"
	var socket = io.connect('http://nodedev.redfern.me:4001');

socket.on('joined', function(msg){
  for(var key in msg){
    $("body").append('<img src="http://vps.redfern.me/cursor.gif" style="position:absolute;" id="'+key+'"/>');
  }
});

socket.on('dc', function(msg){
    $('#'+msg.socketid).remove();
    alert("Disconnect Client!");
});

socket.on('position', function(msg){
     for(var key in msg){
       $("#"+key).css({'left':msg[key].data.x+'px', 'top':msg[key].data.y+'px'}); 
       console.log('update cursor for:'+key);
    }
});

</script>

<script type="text/javascript">
jQuery(document).ready(function(){
   alert('Document Ready');
   $(document).mousemove(function(e){
     socket.emit('mousepos', {data: {x:e.pageX, y:e.pageY}});
  });
});
</script>
</head>

<body>
<h1>
Cheese is dead good to eat if you love cheese
</h1>
</body>

</html>
